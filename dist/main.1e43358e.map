{"version":3,"sources":["src/airboard/boardConfig.js","src/airboard/apiservice.js","src/common/components/tabs.js","src/common/components/searchBox.js","src/common/components/tableWork.js","src/airboard/app.js","src/main.js"],"names":["config","proxyadress","url","apiKey","mskAirId","getApiUrl","queryParams","apiUrl","qs","Object","entries","map","key","value","join","getData","event","fetch","then","response","json","catch","alert","TabsComponent","_elements","_createElements","_renderHeader","tabsHeader","tabs","document","createElement","classList","add","tabsContent","appendChild","headerEl","sort","a","b","order","active","undefined","id","forEach","tab","tabEl","activeTab","innerText","name","dataset","addEventListener","e","_changeActive","handlers","eventHandlers","subscribers","sub","querySelectorAll","remove","eventName","cb","push","contentHTML","innerHTML","SearchBox","lineName","buttonName","linePlaceholder","element","_createElement","_renderSearchBox","searchbox","line","placeholder","button","tableData","createTableHTML","data","html","time","schedule","departure","el","thread","title","number","days","saveTableData","searchInTable","str","result","includes","app","searchBox","on","renderContent","removeActive","airboard","getElementById","getElement","firstChild","type","t"],"mappings":"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","file":"main.1e43358e.map","sourceRoot":"..","sourcesContent":["export const config = {\n    proxyadress: \"https://cors-anywhere.herokuapp.com/\",\n    url: \"https://api.rasp.yandex.net/v3.0/schedule/\",\n    apiKey: \"a04dfd50-625a-4b8a-9ae6-acab7339ee2d\",\n    mskAirId: \"s9600213\"\n}","import {config} from './boardConfig';\n\nexport function getApiUrl(queryParams) {\n    let apiUrl = '';\n    if (config.proxyadress) {\n        apiUrl += config.proxyadress;\n    }\n    if (config.url) {\n        apiUrl += config.url;\n    }\n    queryParams = queryParams || {};\n    const qs = Object.entries(queryParams)\n        .map(([key, value]) => {\n            return `${key}=${value}`;\n        })\n        .join('&');\n    return  `${apiUrl}?apikey=${config.apiKey}&station=${config.mskAirId}&${qs}`;\n}\n\nexport function getData({event}){\n    return fetch(getApiUrl({event}))\n        .then(function(response){\n            return response.json()\n        })\n        .catch(alert);\n}","/**\n * config:\n * {\n *  tabs: [\n *      { id: '1', name: 'tab 1', order: 1},\n *      { id: '2', name: 'tab 2', order: 2},\n *  ],\n *  active: 2 //id табы активной\n * }\n */\nexport class TabsComponent {\n    constructor(config) {\n        this.config = config || {};\n        this._elements = this._createElements(this.config);\n        this._renderHeader(this._elements.tabsHeader);\n    }\n\n    _createElements(config) {\n        const tabs = document.createElement('div');\n        tabs.classList.add('tabs');\n        const tabsHeader = document.createElement('div');\n        tabsHeader.classList.add('tabs-header');\n        const tabsContent = document.createElement('div');\n        tabsContent.classList.add('tabs-content');\n        tabs.appendChild(tabsHeader);\n        tabs.appendChild(tabsContent);\n        return {\n            tabs,\n            tabsContent,\n            tabsHeader\n        };\n    }\n\n    _renderHeader(headerEl) {\n        if (!headerEl) {\n            return;\n        }\n        const tabs = (this.config.tabs || []).sort((a, b) => a.order - b.order);\n        if (this.config.active === undefined) {\n            this.config.active = tabs[0].id;\n        }\n        tabs.forEach(tab => {\n            const tabEl = document.createElement('div');\n            tabEl.classList.add('tabs-tab');\n            if (tab.id === this.config.active) {\n                tabEl.classList.add('active');\n                this.activeTab = tab;\n            }\n            tabEl.innerText = tab.name;\n            tabEl.dataset.tab = tab;\n            tabEl.addEventListener('click', e => {\n                this._changeActive(tabEl);\n                const handlers = this.eventHandlers || {};\n                const subscribers = handlers['tabClick'] || [];\n                subscribers.forEach(sub => {\n                    sub(tab);\n                });\n            });\n            headerEl.appendChild(tabEl);\n        });\n    }\n\n    _changeActive(tabEl) {\n        const tabs = this._elements.tabsHeader.querySelectorAll('.tabs-tab');\n        for (const tab of tabs) {\n            tab.classList.remove('active');\n        }\n        tabEl.classList.add('active');\n    }\n\n    on(eventName, cb) {\n        if (typeof cb !== 'function') {\n            return;\n        }\n        this.eventHandlers = this.eventHandlers || {};\n        this.eventHandlers[eventName] = this.eventHandlers[eventName] || [];\n        this.eventHandlers[eventName].push(cb);\n    }\n\n    renderContent(contentHTML) {\n        this._elements.tabsContent.innerHTML = contentHTML;\n    }\n\n    getElement() {\n        return this._elements.tabs;\n    }\n}","export class SearchBox{\n    constructor(lineName, buttonName){\n        this.linePlaceholder = lineName || '';\n        this.buttonName = buttonName || 'search';\n        this.element = this._createElement(this.linePlaceholder, this.buttonName);\n        this._renderSearchBox();\n    }\n\n    _createElement(lineName, buttonName){\n        const searchbox = document.createElement('div');\n        searchbox.classList.add('searchbox');\n        const line = document.createElement('input');\n        line.classList.add('searchbox-line');\n        line.placeholder = lineName;\n        const button = document.createElement('button');\n        button.classList.add('searchline-button');\n        button.innerText = buttonName;\n        searchbox.appendChild(line);\n        searchbox.appendChild(button);\n        return {\n            searchbox,\n            line,\n            button\n        }\n    }\n\n    removeActive() {\n        this.element.line.classList.remove('active');\n    }\n\n    _renderSearchBox(){\n        this.element.line.addEventListener('click', e => {\n            this.element.line.classList.add('active');\n            const handlers = this.eventHandlers || {};\n            const subscribers = handlers['lineClick'] || [];\n            subscribers.forEach(sub => {\n                    sub(this.element.line);\n            });\n        });\n        this.element.line.addEventListener('input', e => {\n            const handlers = this.eventHandlers || {};\n            const subscribers = handlers['lineInput'] || [];\n            subscribers.forEach(sub => {\n                    sub(this.element.line);\n            });\n        });\n        this.element.button.addEventListener('click', e => {\n            const handlers = this.eventHandlers || {};\n            const subscribers = handlers['clickButton'] || [];\n            subscribers.forEach(sub => {\n                    sub(this.element);\n            });\n        })\n    }\n\n\n    on(eventName, cb) {\n        if (typeof cb !== 'function') {\n            return;\n        }\n        this.eventHandlers = this.eventHandlers || {};\n        this.eventHandlers[eventName] = this.eventHandlers[eventName] || [];\n        this.eventHandlers[eventName].push(cb);\n    }\n\n    getElement(){\n        return this.element.searchbox;\n    }\n}","var tableData = {};\n\nexport function tableData(){\n    return tableData;\n};\n\nexport function createTableHTML(data){\n    if(!data) return;\n        \n    var html = '<table>';\n    var time = !data.schedule[0].departure ? 'arrival' : 'departure';\n    data.schedule.forEach(el => {\n            html += `<tr><td>${el[time]}</td>\n            <td>${el.thread.title}</td>\n            <td>${el.thread.number}</td>\n            <td>${el.days}</td>\n        </tr>`\n    });\n    html += '</table>';\n    \n    return html;\n};\n\nexport function saveTableData(data){\n    if(!data) return {};\n    tableData = data;\n    return tableData;\n}\n\nexport function searchInTable(str){\n    if(!tableData) return {};\n    str = ' '+str;\n    let result = {tableData};\n        result.schedule = [];\n    tableData.schedule.forEach(el => {\n        if(el.thread.number.includes(str)) result.schedule.push(el);\n    });\n    return result;\n}\n\n\n","import {getData} from './apiservice';\nimport {TabsComponent} from '../common/components/tabs';\nimport {SearchBox} from '../common/components/searchBox';\nimport {createTableHTML, saveTableData, tableData, searchInTable} from '../common/components/tableWork';\n\n\n\n\nexport function app(){\n    const tabs = new TabsComponent({\n        tabs: [\n            { id: 1, name: 'Вылет', order: 1, data: { event: 'departure' } },\n            { id: 2, name: 'Прилет', order: 2, data: { event: 'arrival' } },\n        ],\n        active: 1\n    });\n\n    const searchBox = new SearchBox('Номер рейса', 'Сбросить фильтр');\n\n    tabs.on('tabClick', (e) => {\n        // get data\n        tabs.renderContent('<p>Загрузка данных...</p>');\n        getData({ event: e.data.event }).then(data => {\n            tabs.renderContent(createTableHTML(data));\n        });\n    });\n\n    searchBox.on('lineInput', e => {\n        tabs.renderContent('');\n        tabs.renderContent(createTableHTML(searchInTable(e.value)))\n    })\n\n    searchBox.on('clickButton', e => {\n        tabs.renderContent('');\n        e.line.value = '';\n        searchBox.removeActive()\n        tabs.renderContent(createTableHTML(tableData));\n    });\n    \n    const airboard = document.getElementById('airboard');\n    airboard.innerHTML = '';\n    searchBox.getElement().firstChild.type ='number';\n    tabs.getElement().firstChild.appendChild(searchBox.getElement());\n    airboard.appendChild(tabs.getElement());\n\n    var activeTab;\n    tabs.config.tabs.forEach(t => {\n        if(t.id == tabs.config.active)\n            activeTab = t;\n    });\n\n    tabs.renderContent('<p>Загрузка данных...</p>');\n        getData({ event: activeTab.data.event }).then(data => {\n            tabs.renderContent(createTableHTML(data));\n            saveTableData(data);\n        });\n};\n\n","import {app} from './airboard/app';\n\napp();"]}